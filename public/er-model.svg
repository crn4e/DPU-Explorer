<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg" font-family="Arial, sans-serif">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
    </marker>
    <marker id="many" viewBox="0 0 20 20" refX="10" refY="10" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
        <path d="M 0 5 L 15 10 L 0 15" stroke="#333" fill="none" stroke-width="2"/>
    </marker>
    <style>
        .entity { fill: #1E40AF; border-radius: 8px; }
        .entity-name { font-size: 16px; font-weight: bold; fill: #FFFFFF; }
        .attribute { font-size: 14px; fill: #333; }
        .pk { font-weight: bold; text-decoration: underline; }
        .fk { font-style: italic; }
        .line { stroke: #333; stroke-width: 1.5; }
        .title { font-size: 24px; font-weight: bold; fill: #1E3A8A; }
    </style>
  </defs>

  <rect width="100%" height="100%" fill="#F8FAFC"/>
  <text x="50%" y="40" text-anchor="middle" class="title">DPU Explorer - E-R Model</text>

  <!-- Entity: Locations -->
  <g transform="translate(300, 80)">
    <rect width="200" height="220" rx="8" class="entity" />
    <text x="100" y="25" text-anchor="middle" class="entity-name">Locations</text>
    <line x1="10" y1="40" x2="190" y2="40" stroke="#FFFFFF" stroke-width="1"/>
    <text x="15" y="60" class="attribute pk">location_id (PK)</text>
    <text x="15" y="80" class="attribute">name</text>
    <text x="15" y="100" class="attribute">description</text>
    <text x="15" y="120" class="attribute">image_url</text>
    <text x="15" y="140" class="attribute">image_hint</text>
    <text x="15" y="160" class="attribute">announcement</text>
    <text x="15" y="180" class="attribute">map_position_x</text>
    <text x="15" y="200" class="attribute">map_position_y</text>
  </g>

  <!-- Entity: Categories -->
  <g transform="translate(50, 140)">
    <rect width="200" height="90" rx="8" class="entity" />
    <text x="100" y="25" text-anchor="middle" class="entity-name">Categories</text>
    <line x1="10" y1="40" x2="190" y2="40" stroke="#FFFFFF" stroke-width="1"/>
    <text x="15" y="60" class="attribute pk">category_id (PK)</text>
    <text x="15" y="80" class="attribute">category_name</text>
  </g>

  <!-- Entity: Hours -->
  <g transform="translate(550, 140)">
    <rect width="200" height="110" rx="8" class="entity" />
    <text x="100" y="25" text-anchor="middle" class="entity-name">Hours</text>
    <line x1="10" y1="40" x2="190" y2="40" stroke="#FFFFFF" stroke-width="1"/>
    <text x="15" y="60" class="attribute pk">hours_id (PK)</text>
    <text x="15" y="80" class="attribute">day_of_week</text>
    <text x="15" y="100" class="attribute">open_close_time</text>
  </g>

  <!-- Entity: ChatHistories -->
  <g transform="translate(300, 400)">
    <rect width="200" height="110" rx="8" class="entity" />
    <text x="100" y="25" text-anchor="middle" class="entity-name">ChatHistories</text>
    <line x1="10" y1="40" x2="190" y2="40" stroke="#FFFFFF" stroke-width="1"/>
    <text x="15" y="60" class="attribute pk">chat_id (PK)</text>
    <text x="15" y="80" class="attribute">session_id</text>
    <text x="15" y="100" class="attribute">message_log (JSON)</text>
  </g>
  
  <!-- Foreign Keys in Locations -->
  <g transform="translate(300, 80)">
     <text x="15" y="220" class="attribute fk" visibility="hidden">category_id (FK)</text>
  </g>

  <!-- Relationships -->
  <!-- Locations to Categories (Many to One) -->
  <line x1="250" y1="185" x2="300" y2="185" class="line" marker-end="url(#arrow)" marker-start="url(#many)"/>
  <text x="260" y="180" font-size="12">(has a)</text>

  <!-- Locations to Hours (Many to Many - simplified as One to Many for this view) -->
  <line x1="500" y1="195" x2="550" y2="195" class="line" marker-end="url(#arrow)" marker-start="url(#many)"/>
   <text x="510" y="190" font-size="12">(has)</text>

  <!-- Relationship Text -->
  <text x="175" y="320" font-size="12">Each Location belongs to one Category.</text>
  <text x="175" y="340" font-size="12">Each Category can have many Locations.</text>
  
  <text x="475" y="320" font-size="12">Each Location has multiple Hour entries (one for each day).</text>
  <text x="475" y="340" font-size="12">Each Hour entry belongs to one Location.</text>

</svg>
